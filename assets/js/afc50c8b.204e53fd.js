"use strict";(self.webpackChunktypegraphql_prisma_website=self.webpackChunktypegraphql_prisma_website||[]).push([[91],{3905:function(e,r,n){n.d(r,{Zo:function(){return p},kt:function(){return d}});var t=n(7294);function i(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function a(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){i(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function o(e,r){if(null==e)return{};var n,t,i=function(e,r){if(null==e)return{};var n,t,i={},a=Object.keys(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||(i[n]=e[n]);return i}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)n=a[t],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=t.createContext({}),c=function(e){var r=t.useContext(l),n=r;return e&&(n="function"==typeof e?e(r):s(s({},r),e)),n},p=function(e){var r=c(e.components);return t.createElement(l.Provider,{value:r},e.children)},u={inlineCode:"code",wrapper:function(e){var r=e.children;return t.createElement(t.Fragment,{},r)}},m=t.forwardRef((function(e,r){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=c(n),d=i,h=m["".concat(l,".").concat(d)]||m[d]||u[d]||a;return n?t.createElement(h,s(s({ref:r},p),{},{components:n})):t.createElement(h,s({ref:r},p))}));function d(e,r){var n=arguments,i=r&&r.mdxType;if("string"==typeof e||i){var a=n.length,s=new Array(a);s[0]=m;var o={};for(var l in r)hasOwnProperty.call(r,l)&&(o[l]=r[l]);o.originalType=e,o.mdxType="string"==typeof e?e:i,s[1]=o;for(var c=2;c<a;c++)s[c]=n[c];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},7051:function(e,r,n){n.r(r),n.d(r,{frontMatter:function(){return o},contentTitle:function(){return l},metadata:function(){return c},toc:function(){return p},default:function(){return m}});var t=n(7462),i=n(3366),a=(n(7294),n(3905)),s=["components"],o={title:"Prisma version verification",sidebar_label:"Prisma version check",sidebar_position:4},l=void 0,c={unversionedId:"basics/prisma-version",id:"basics/prisma-version",title:"Prisma version verification",description:"Checking installed Prisma version",source:"@site/../docs/basics/prisma-version.md",sourceDirName:"basics",slug:"/basics/prisma-version",permalink:"/docs/basics/prisma-version",editUrl:"https://github.com/MichalLytek/typegraphql-prisma/edit/main/docs/../docs/basics/prisma-version.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Prisma version verification",sidebar_label:"Prisma version check",sidebar_position:4},sidebar:"docs",previous:{title:"Usage",permalink:"/docs/basics/usage"},next:{title:"Nest JS",permalink:"/docs/basics/nest-js"}},p=[{value:"Checking installed Prisma version",id:"checking-installed-prisma-version",children:[],level:2},{value:"Lifting Prisma version restriction",id:"lifting-prisma-version-restriction",children:[],level:2}],u={toc:p};function m(e){var r=e.components,n=(0,i.Z)(e,s);return(0,a.kt)("wrapper",(0,t.Z)({},u,n,{components:r,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"checking-installed-prisma-version"},"Checking installed Prisma version"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"typegraphql-prisma")," generator works only with selected versions of Prisma.\nBy default, it checks if the installed Prisma version matches the required one using semver rules.\nSo when you try to use other version, like a just published, new minor release (or the ",(0,a.kt)("inlineCode",{parentName:"p"},"dev")," one), you will receive an error about wrong package version, e.g:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},'Error: Looks like an incorrect version "3.1.1" of the Prisma packages has been installed.\n\'typegraphql-prisma\' works only with selected versions, so please ensure\nthat you have installed a version of Prisma that meets the requirement: "~3.0.1".\nFind out more about that requirement in docs:\nhttps://prisma.typegraphql.com/docs/basics/prisma-version\n')),(0,a.kt)("p",null,"The reason of such restriction is that ",(0,a.kt)("inlineCode",{parentName:"p"},"typegraphql-prisma")," heavily relies on the DMMF and Prisma generators feature which are not considered a public API, so that there's no guarantee about them having no breaking changes in minor releases.\nIn plenty of previous releases, changes done in Prisma and DMMF impacted ",(0,a.kt)("inlineCode",{parentName:"p"},"typegraphql-prisma")," a lot, so that the generator have produced e.g. invalid classes or even have broken at all."),(0,a.kt)("p",null,"So in order to prevent ",(0,a.kt)("inlineCode",{parentName:"p"},"typegraphql-prisma")," users from creating issues on GitHub, when they install the latest version of Prisma, such version check has been implemented and is performed by default. However, when you are sure what you're doing, you can lift the Prisma version restriction and try to use the ",(0,a.kt)("inlineCode",{parentName:"p"},"typegraphql-prisma")," with the newer Prisma version."),(0,a.kt)("h2",{id:"lifting-prisma-version-restriction"},"Lifting Prisma version restriction"),(0,a.kt)("p",null,"If you want or need to try other version of Prisma, you can use ",(0,a.kt)("inlineCode",{parentName:"p"},"SKIP_PRISMA_VERSION_CHECK")," env variable to suppress that error:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sh"},"SKIP_PRISMA_VERSION_CHECK=true npx prisma generate\n")),(0,a.kt)("p",null,"This way there will be no Prisma version check performed and no error thrown. However, using this mode means you are not allowed to report any bug issues as only selected Prisma versions are supported by the ",(0,a.kt)("inlineCode",{parentName:"p"},"typegraphql-prisma")," generator."))}m.isMDXComponent=!0}}]);